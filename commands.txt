ionic start Sapristi tabs
cordova platform add ios
ionic build ios
ionic emulate ios  --- run in iOS simulator
ionic serve   --- create local web server on port 8000

-- cordova plugins
cordova plugin add org.apache.cordova.contacts

-- for publishing (see http://ionicframework.com/docs/guide/publishing.html)
cordova plugin rm org.apache.cordova.console --- remove unused plugins


# curl
curl --data "username=123&mobileNumber=123&password=abc" http://localhost:3000/api/auth/register


# start mongo

# connect to mongo terminal
/usr/local/mongodb/bin/mongo sapristi
show dbs
show collections
use sapristi
db.<collection>.find().pretty()
db.<collection>.find().printjson()

# psql
psql
create user sapristi with password 'changeme';
create database Sapristi with owner = sapristi;

psql -U sapristi
create table t (code integer not null);
select * from t;
insert into t values (44);

drop table s_user;
drop table s_connections;
drop table s_phoneNumbers;

CREATE TYPE e_availability AS ENUM ('AVAILABLE', 'UNKNOWN', 'BUSY');
CREATE TYPE e_connectionState AS ENUM ('INVITED', 'CONNECTED');
CREATE TYPE e_userState AS ENUM ('GHOST', 'CREATED', 'CONFIRMED')


create table s_user (username varchar (255) primary key,
                      password varchar(255),
                      mobileNumber varchar(255),
                      authToken varchar(255),
                      availability e_availability,
                      birthday date,
                      userState e_userState);

create table s_connections (fromUser varchar(255) references s_user(username),
                            toUser varchar(255) references s_user(username),
                            connectionState e_connectionState);

create table s_phoneNumbers (username varchar(255) references s_user(username),
                              phoneNumber varchar(255))

SELECT current_database();

select column_name, data_type, character_maximum_length
from INFORMATION_SCHEMA.COLUMNS where table_name = 's_user'

\q


# git
git tag -a v1.4 -m 'my version 1.4'

# github
git clone https://github.com/skasriel/collab.git
git push origin master

# set up heroku
heroku login
heroku create
heroku addons:add mongolab
heroku addons:add heroku-postgresql:dev

# heroku
git commit -a -m
git push heroku master
heroku config:set NODE_ENV=staging
heroku ps:scale web=1
heroku restart
heroku open
heroku logs --source app
heroku foreman start
